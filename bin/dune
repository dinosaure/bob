(executable
 (name cat)
 (public_name bob.cat)
 (modules cat)
 (libraries fmt.tty logs.fmt bob.fiber))

(executable
 (name getline)
 (public_name bob.getline)
 (modules getline)
 (libraries fmt.tty logs.fmt bob.fiber))

(executable
 (name bob)
 (public_name bob)
 (modules transfer daemon bob clear bob_clear client server relay connect
   args)
 (libraries progress base64 ipaddr ipaddr.unix cmdliner fpath fmt.cli
   logs.cli fmt.tty logs.fmt bob.password bob.unix bob.pack))

; (rule
;  (target bob.com)
;  (enabled_if
;   (= %{context_name} esperanto))
;  (mode promote)
;  (deps bob.exe)
;  (action
;   (run objcopy -S -O binary %{deps} %{target})))
; 
; (rule
;  (target cat.com)
;  (enabled_if
;   (= %{context_name} esperanto))
;  (mode promote)
;  (deps cat.exe)
;  (action
;   (run objcopy -S -O binary %{deps} %{target})))
; 
; (rule
;  (target getline.com)
;  (enabled_if
;   (= %{context_name} esperanto))
;  (mode promote)
;  (deps getline.exe)
;  (action
;   (run objcopy -S -O binary %{deps} %{target})))
