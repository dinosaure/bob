(executable
 (name cat)
 (public_name bob.cat)
 (modules cat)
 (libraries fmt.tty logs.fmt bob.fiber))

(executable
 (name getline)
 (public_name bob.getline)
 (modules getline)
 (libraries fmt.tty logs.fmt bob.fiber))

(executable
 (name compress)
 (public_name bob.compress)
 (modules compress)
 (libraries bob.stream))

(executable
 (name bob)
 (public_name bob)
 (modules
  prgrss
  transfer
  daemon
  bob
  clear
  bob_clear
  recv
  send
  relay
  connect
  args)
 (libraries
  ca-certs
  progress
  base64
  ipaddr
  ipaddr.unix
  cmdliner
  bob.fpath
  fmt.cli
  logs.cli
  fmt.tty
  logs.fmt
  bob.password
  bob.unix
  bob.pack
  bob.tls
  bob.dns))

; (rule
;  (target bob.com)
;  (enabled_if
;   (= %{context_name} esperanto))
;  (mode promote)
;  (deps bob.exe)
;  (action
;   (run objcopy -S -O binary %{deps} %{target})))
; 
; 
; (rule
;  (target cat.com)
;  (enabled_if
;   (= %{context_name} esperanto))
;  (mode promote)
;  (deps cat.exe)
;  (action
;   (run objcopy -S -O binary %{deps} %{target})))
; 
; (rule
;  (target getline.com)
;  (enabled_if
;   (= %{context_name} esperanto))
;  (mode promote)
;  (deps getline.exe)
;  (action
;   (run objcopy -S -O binary %{deps} %{target})))
